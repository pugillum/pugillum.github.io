<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Add comments to your Hugo blog linked to Github issues with utterances | Travis Dent</title>
<meta name=keywords content="blog">
<meta name=description content="Disqus sucks and most tech folk have a Github account so how about using Github issues to support comments.">
<meta name=author content>
<link rel=canonical href=https://pugillum.github.io/posts/2021_11_28_github_issues_as_comments/>
<link crossorigin=anonymous href=/assets/css/stylesheet.min.79b192cca391a0913ddae67d992782c0fdb84632da097ee44bd026ffe4e6997e.css integrity="sha256-ebGSzKORoJE92uZ9mSeCwP24RjLaCX7kS9Am/+TmmX4=" rel="preload stylesheet" as=style>
<script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://pugillum.github.io/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=https://pugillum.github.io/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=https://pugillum.github.io/favicon-32x32.png>
<link rel=apple-touch-icon href=https://pugillum.github.io/apple-touch-icon.png>
<link rel=mask-icon href=https://pugillum.github.io/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.89.4">
<meta property="og:title" content="Add comments to your Hugo blog linked to Github issues with utterances">
<meta property="og:description" content="Disqus sucks and most tech folk have a Github account so how about using Github issues to support comments.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://pugillum.github.io/posts/2021_11_28_github_issues_as_comments/">
<meta property="og:image" content="https://pugillum.github.io/cover_shot.png"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-11-28T00:00:00+00:00">
<meta property="article:modified_time" content="2021-11-28T00:00:00+00:00"><meta property="og:site_name" content="Travis Dent">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://pugillum.github.io/cover_shot.png">
<meta name=twitter:title content="Add comments to your Hugo blog linked to Github issues with utterances">
<meta name=twitter:description content="Disqus sucks and most tech folk have a Github account so how about using Github issues to support comments.">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://pugillum.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Add comments to your Hugo blog linked to Github issues with utterances","item":"https://pugillum.github.io/posts/2021_11_28_github_issues_as_comments/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Add comments to your Hugo blog linked to Github issues with utterances","name":"Add comments to your Hugo blog linked to Github issues with utterances","description":"Disqus sucks and most tech folk have a Github account so how about using Github issues to support comments.","keywords":["blog"],"articleBody":"So this is just a quick setup, at the end you should be able to see how comments can be added. We‚Äôll be doing this with utterances which uses some JavaScript to integrate with the uterrances-bot which you will give permission to create issues in your Github repo.\nLet‚Äôs do it  So you‚Äôll need a public Github repo. If you‚Äôre already using Github to host your website like I am then it‚Äôs fairly logical to use that one. Logged into your Github account, in the same browser select to install the Uterances app by opening this link: https://github.com/apps/utterances It makes no sense to give it access to all your repositories, just use the one you configured in step 1 Go here and fill in:  Your repo: Look in the URL of your repo and copy everything after https://github.com/ Mapping: I just selected the first one, feel free to do otherwise Label: This is optional, labels are used to differentiate between issues. If you want to use one you‚Äôll need to make sure it exists in your repo. To create one, in your repo go to Issues, select ‚ÄúLabels‚Äù and then ‚ÄúNew label‚Äù and be creative (I used ‚Äúblog‚Äù which isn‚Äôt very creative). Theme: So this depends on your blog theme. Mine supports dark and light so quandary ü§î Stay tuned for what I selected.   Copy the resulting HTML with all the details filled in So this is a post about a Hugo blog. Most Hugo blog themes have a comments.html lying around (in layouts/partials for instance). Depending on your setup you can just replace the contents of the file with what you copied above but I‚Äôd recommend reading up on the particular theme‚Äôs recommendations. And this is particular to the PaperMod theme I‚Äôm using, I needed to change a parameter ‚Äúcomments‚Äù to ‚Äútrue‚Äù in the config.yml. Again, know your theme!  And after all that, serving your site locally you should now be able to see an extra comments section at the end of your posts. This will require your readers to login to their Github account before commenting. Neato! ü§ò\nOnce a comment has been added you should see a corresponding issue being added.\n","wordCount":"364","inLanguage":"en","image":"https://pugillum.github.io/cover_shot.png","datePublished":"2021-11-28T00:00:00Z","dateModified":"2021-11-28T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://pugillum.github.io/posts/2021_11_28_github_issues_as_comments/"},"publisher":{"@type":"Organization","name":"Travis Dent","logo":{"@type":"ImageObject","url":"https://pugillum.github.io/favicon.ico"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<noscript>
<style type=text/css>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://pugillum.github.io/ accesskey=h title="  (Alt + H)">
<img src=/avatar.png alt=logo aria-label=logo height=35> </a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu onscroll=menu_on_scroll()>
<li>
<a href=https://pugillum.github.io/archives/ title=archive>
<span>archive</span>
</a>
</li>
<li>
<a href=https://pugillum.github.io/tags/ title=tags>
<span>tags</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<h1 class=post-title>
Add comments to your Hugo blog linked to Github issues with utterances
</h1>
<div class=post-meta>November 28, 2021&nbsp;¬∑&nbsp;2 min
</div>
</header>
<figure class=entry-cover>
<img loading=lazy srcset="https://pugillum.github.io/posts/2021_11_28_github_issues_as_comments/cover_shot_hu3bc33e40e61b59e957c35c0fe45e95f8_23731_360x0_resize_box_3.png 360w ,https://pugillum.github.io/posts/2021_11_28_github_issues_as_comments/cover_shot_hu3bc33e40e61b59e957c35c0fe45e95f8_23731_480x0_resize_box_3.png 480w ,https://pugillum.github.io/posts/2021_11_28_github_issues_as_comments/cover_shot_hu3bc33e40e61b59e957c35c0fe45e95f8_23731_720x0_resize_box_3.png 720w ,https://pugillum.github.io/posts/2021_11_28_github_issues_as_comments/cover_shot.png 843w" sizes="(min-width: 768px) 720px, 100vw" src=https://pugillum.github.io/posts/2021_11_28_github_issues_as_comments/cover_shot.png alt="Using draw.io in markdown">
</figure>
<div class=post-content><p>So this is just a quick setup, at the end you should be able to see how comments can be added. We&rsquo;ll be doing this with <a href=https://github.com/utterance/utterances>utterances</a> which uses some JavaScript to integrate with the <a href=https://github.com/utterances-bot>uterrances-bot</a> which you will give permission to create issues in your Github repo.</p>
<h1 id=lets-do-it>Let&rsquo;s do it<a hidden class=anchor aria-hidden=true href=#lets-do-it>#</a></h1>
<ol>
<li>So you&rsquo;ll need a public Github repo. If you&rsquo;re already using Github to host your website like I am then it&rsquo;s fairly logical to use that one.</li>
<li>Logged into your Github account, in the same browser select to install the Uterances app by opening this link: <a href=https://github.com/apps/utterances>https://github.com/apps/utterances</a></li>
<li>It makes no sense to give it access to all your repositories, just use the one you configured in step 1</li>
<li>Go <a href=https://utteranc.es/>here</a> and fill in:
<ol>
<li>Your repo: Look in the URL of your repo and copy everything after <code>https://github.com/</code></li>
<li>Mapping: I just selected the first one, feel free to do otherwise</li>
<li>Label: This is optional, labels are used to differentiate between issues. If you want to use one you&rsquo;ll need to make sure it exists in your repo. To create one, in your repo go to Issues, select &ldquo;Labels&rdquo; and then &ldquo;New label&rdquo; and be creative (I used &ldquo;blog&rdquo; which isn&rsquo;t very creative).</li>
<li>Theme: So this depends on your blog theme. Mine supports dark <strong>and</strong> light so quandary ü§î Stay tuned for what I selected.</li>
</ol>
</li>
<li>Copy the resulting HTML with all the details filled in</li>
<li>So this is a post about a Hugo blog. Most Hugo blog themes have a <code>comments.html</code> lying around (in <code>layouts/partials</code> for instance). Depending on your setup you can just replace the contents of the file with what you copied above but I&rsquo;d recommend reading up on the particular theme&rsquo;s recommendations.</li>
<li>And this is particular to the PaperMod theme I&rsquo;m using, I needed to change a parameter &ldquo;comments&rdquo; to &ldquo;true&rdquo; in the config.yml. Again, know your theme!</li>
</ol>
<p>And after all that, serving your site locally you should now be able to see an extra comments section at the end of your posts. This will require your readers to login to their Github account before commenting. Neato! ü§ò</p>
<p>Once a comment has been added you should see a corresponding issue being added.</p>
</div>
<footer class=post-footer>
<ul class=post-tags>
<li><a href=https://pugillum.github.io/tags/blog/>blog</a></li>
</ul>
<nav class=paginav>
<a class=next href=https://pugillum.github.io/posts/2021_11_28_drawio_in_markdown/>
<span class=title>Next Page ¬ª</span>
<br>
<span>All you need for your documentation is VS Code, Markdown and draw.io</span>
</a>
</nav>
</footer><script src=https://utteranc.es/client.js repo=pugillum/pugillum.github.io issue-term=pathname label=blog theme=github-light crossorigin=anonymous async></script>
</article>
</main>
<footer class=footer>
<span>&copy; 2021 <a href=https://pugillum.github.io/>Travis Dent</a></span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)">
<button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</button>
</a>
<script>window.onload=function(){localStorage.getItem("menu-scroll-position")&&(document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position"))};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft)}document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
<script>document.querySelectorAll('pre > code').forEach(b=>{const c=b.parentNode.parentNode,a=document.createElement('button');a.classList.add('copy-code'),a.innerText='copy';function d(){a.innerText='copied!',setTimeout(()=>{a.innerText='copy'},2e3)}a.addEventListener('click',e=>{if('clipboard'in navigator){navigator.clipboard.writeText(b.textContent),d();return}const a=document.createRange();a.selectNodeContents(b);const c=window.getSelection();c.removeAllRanges(),c.addRange(a);try{document.execCommand('copy'),d()}catch(a){}c.removeRange(a)}),c.classList.contains("highlight")?c.appendChild(a):c.parentNode.firstChild==c||(b.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?b.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(a):b.parentNode.appendChild(a))})</script>
</body>
</html>